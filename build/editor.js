"undefined"!=typeof wp&&wp.data.dispatch("core/block-editor").registerInserterMediaCategory({name:"astrobin",labels:{name:"Astrobin",search_items:"Search Astrobin"},mediaType:"image",async fetch(e={}){const t={limit:e.per_page};console.log(e);const a={...e,...t},r={per_page:"page_size",search:"title__icontains"},o=new URL(`${mosneAstroBin.apiUrl}/search?term=${encodeURIComponent(e.search||"")}`);Object.entries(a).forEach((([e,t])=>{const a=r[e]||e;o.searchParams.set(a,t)}));const s=await window.fetch(o,{headers:{"X-WP-Nonce":mosneAstroBin.nonce}});return(await s.json()).objects.map((e=>({sourceId:e.id,id:void 0,title:e.title,hash:e.hash,caption:`<a href="https://app.astrobin.com/i/${e.hash}" target="_blank" rel="nofollow">${e.title}</a> by <a href="https://app.astrobin.com/u/${e.user}" target="_blank" rel="nofollow">${e.user}</a>`,previewUrl:e.url_duckduckgo,url:e.url_real})))},getReportUrl:({sourceId:e})=>`https://www.astrobin.com/api/v1/image/${e}/`,isExternalResource:!0});